# compiler flags. -g for debug, -O3 for optimization
OBJS = main.o tokenizer.o history.o # FIXME
CFLAGS=-g -o3

# first target is built by default
all: main

main: $(OBJS)
	cc -o main $(CFLAGS) $(OBJS)

$(OBJS): tokenizer.h history.h

#include file dependencies
#history.o: history.c history.h
#tokenizer.o: tokenizer.c tokenizer.h
#tester.o: tester.c tester.h

# $@=target, $^=prerequisites
#main: main.o tokenizer.o history.o
#	cc -o $@ $^ $(CFLAGS)

# deletes files generated by compilation
clean: rm -f *.o main

run: main
	./main
